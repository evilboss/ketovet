<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bubbly Belle</title>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/shared/assets/favico/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/shared/assets/favico/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/shared/assets/favico/favicon-16x16.png">
  <link rel="manifest" href="/shared/assets/favico/site.webmanifest">
  <link rel="mask-icon" href="/shared/assets/favico/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://offers.bubblybelle.com/shared/assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://offers.bubblybelle.com/shared/assets/css/iziToast.css">
  <link
    href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,400italic,700,700italic%7CRoboto+Slab:400,700,300,100'
    rel='stylesheet' type='text/css'>
  <link href="https://offers.bubblybelle.com/shared/assets/css/prospect/prospectpp.css?v8" rel="stylesheet">

  <style type="text/css">
    label.error {
      padding-left: 0;
      color: #f62424;
      font-weight: normal;
      font-size: 12px;
    }

    #error_message {
      font-size: 25px
    }
  </style>
</head>

<body id="prospect" class="store" data-step="4">
<script>
  var googleclick = false;

</script>


<script>
  var date = new Date();
  date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));
  expires = "; expires=" + date.toUTCString();
  document.cookie = 'fbcmp' + "=" + '1711397459085252' + ';' + expires + "; path=/";
</script>

<!-- Facebook Pixel Code -->
<script>
  !function (f, b, e, v, n, t, s) {
    if (f.fbq) return;
    n = f.fbq = function () {
      n.callMethod ?
        n.callMethod.apply(n, arguments) : n.queue.push(arguments)
    };
    if (!f._fbq) f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = '2.0';
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s)
  }(window, document, 'script',
    'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1711397459085252', {
    em: "test@test.com",
    fn: "test",
    ln: "test",
    ph: "1232131231",
    country: "us",
    ct: "test",
    st: "al",
    zp: "35005	",
  });
  fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
               src="https://www.facebook.com/tr?id=1711397459085252&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47105712-40"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }

  gtag('js', new Date());

  gtag('config', 'UA-47105712-40'); // analytics initialization
  gtag('config', 'AW-709535125'); // adwords initialization via gtag - AB - added 9.16.19


</script>

<!-- Pinterest Tag -->
<script>
  !function (e) {
    if (!window.pintrk) {
      window.pintrk = function () {
        window.pintrk.queue.push(Array.prototype.slice.call(arguments))
      };
      var
        n = window.pintrk;
      n.queue = [], n.version = "3.0";
      var
        t = document.createElement("script");
      t.async = !0, t.src = e;
      var
        r = document.getElementsByTagName("script")[0];
      r.parentNode.insertBefore(t, r)
    }
  }("https://s.pinimg.com/ct/core.js");
  //2614110333809
  // 2613589011768 - other account disabled 1.3.20
  pintrk('load', '2614110333809', {em: 'test@test.com'});
  pintrk('page');
</script>
<noscript>
  <img height="1" width="1" style="display:none;" alt=""
       src="https://ct.pinterest.com/v3/?event=init&tid=2614110333809&pd[em]=b642b4217b34b1e8d3bd915fc65c4452&noscript=1"/>
</noscript>
<!-- end Pinterest Tag -->


<!-- outbrain -->
<script data-obct type="text/javascript">
  /** DO NOT MODIFY THIS CODE**/
  !function (_window, _document) {
    var OB_ADV_ID = '00f9e5e0d969af8ed98a1cc949fb177534';
    if (_window.obApi) {
      var toArray = function (object) {
        return Object.prototype.toString.call(object) === '[object Array]' ? object : [object];
      };
      _window.obApi.marketerId = toArray(_window.obApi.marketerId).concat(toArray(OB_ADV_ID));
      return;
    }
    var api = _window.obApi = function () {
      api.dispatch ? api.dispatch.apply(api, arguments) : api.queue.push(arguments);
    };
    api.version = '1.1';
    api.loaded = true;
    api.marketerId = OB_ADV_ID;
    api.queue = [];
    var tag = _document.createElement('script');
    tag.async = true;
    tag.src = '//amplify.outbrain.com/cp/obtp.js';
    tag.type = 'text/javascript';
    var script = _document.getElementsByTagName('script')[0];
    script.parentNode.insertBefore(tag, script);
  }(window, document);
  obApi('track', 'PAGE_VIEW');
</script>
<!-- end outbrain -->


<!-- Taboola Pixel Code -->
<script type='text/javascript'>
  window._tfa = window._tfa || [];
  window._tfa.push({notify: 'event', name: 'page_view', id: 1225269});
  !function (t, f, a, x) {
    if (!document.getElementById(x)) {
      t.async = 1;
      t.src = a;
      t.id = x;
      f.parentNode.insertBefore(t, f);
    }
  }(document.createElement('script'),
    document.getElementsByTagName('script')[0],
    '//cdn.taboola.com/libtrc/unip/1225269/tfa.js',
    'tb_tfa_script');
</script>
<noscript>
  <img src='//trc.taboola.com/1225269/log/3/unip?en=page_view'
       width='0' height='0' style='display:none'/>
</noscript>
<!-- End of Taboola Pixel Code -->


<!-- Snap Pixel Code -->
<script type='text/javascript'>
  (function (e, t, n) {
    if (e.snaptr) return;
    var a = e.snaptr = function () {
      a.handleRequest ? a.handleRequest.apply(a, arguments) : a.queue.push(arguments)
    };
    a.queue = [];
    var s = 'script';
    r = t.createElement(s);
    r.async = !0;
    r.src = n;
    var u = t.getElementsByTagName(s)[0];
    u.parentNode.insertBefore(r, u);
  })(window, document,
    'https://sc-static.net/scevent.min.js');

  snaptr('init', '46cdd58d-67b4-4607-ac7f-64d8c5009ae6'
    , {'user_email': 'test@test.com'});

  snaptr('track', 'PAGE_VIEW');
</script>
<!-- End Snap Pixel Code -->


<!-- Pubdream Analytics -->
<script async src="//a.pubdream.com/analytics2.js"></script>
<script>
  window.pubdream = window.pubdream || [];

  function pdpush() {
    window.pubdream.push(arguments);
  }

  pdpush('pageview');
</script>

<!-- DFO detect coreg prefill params and stuff into 7 day cookie -->
<script>
  try {
    var params = new URLSearchParams(location.search);

    var dict = {};

    // get all supported prefill variables here
    // load into cookie that will be read by the shipping page.
    // if firstname not found, the rest is ignored
    dict.firstname = params.get('firstname');
    if (dict.firstname) {
      dict.lastname = params.get('lastname');
      dict.email = params.get('email');
      dict.phone = params.get('phone');
      dict.address = params.get('address');
      dict.city = params.get('city');
      dict.state = params.get('state');
      dict.zip = params.get('zip');

      var date = new Date();
      date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));
      expires = "; expires=" + date.toUTCString();
      document.cookie = 'coreg' + "=" + btoa(JSON.stringify(dict)) + ';' + expires + "; path=/";
    }

  } catch (e) {
  }
</script>

<script>
  // ticktock
  (function () {
    var ta = document.createElement('script');
    ta.type = 'text/javascript';
    ta.async = true;
    ta.src = document.location.protocol + '//' + 'static.bytedance.com/pixel/sdk.js?sdkid=BOH0PVLEUOQ9QM0COE30';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ta, s);
  })();
</script>

<!-- DO NOT MODIFY -->
<!-- Quora Pixel Code (JS Helper) -->
<script>
  !function (q, e, v, n, t, s) {
    if (q.qp) return;
    n = q.qp = function () {
      n.qp ? n.qp.apply(n, arguments) : n.queue.push(arguments);
    };
    n.queue = [];
    t = document.createElement(e);
    t.async = !0;
    t.src = v;
    s = document.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s);
  }(window, 'script', 'https://a.quora.com/qevents.js');
  qp('init', '05c70b24a10d4f24a51553980545d868');
  qp('track', 'ViewContent');
</script>
<noscript><img height="1" width="1" style="display:none"
               src="https://q.quora.com/_/ad/05c70b24a10d4f24a51553980545d868/pixel?tag=ViewContent&noscript=1"/>
</noscript>
<!-- End of Quora Pixel Code -->

<!-- mikey likes it -->
<script src="https://cdn.attn.tv/bubblybelle/dtag.js"></script>


<header>
  <div class="container logo-container">
    <div class="row">
      <div class="col-sm-12">
        <img src="logo.jpg" class="img-responsive logo">
      </div>
    </div>
  </div>
</header>

<section class="content clearfix">
  <div class="container">
    <div class="row">

      <div class="col-sm-12">
        <h1 id="maintitle" style="margin-bottom: 0px;">Where Would You Like Us To Ship?</h1>
      </div>

      <div class="col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3">
        <div class="countdown">
          <div id="clockdiv"
               style="display:block;background:#fcf8e3;padding:10px 20px;border:1px solid #faebcc;font-size:16px;color:#8a6d3b;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 4px; margin:20px 0px; text-align:center">
            Your order is reserved for <span class="minutes"
                                             style="font-weight: bold;letter-spacing: 1px;"></span>:<span
            class="seconds"
            style="font-weight: bold;letter-spacing: 1px;">00</span> minutes!
          </div>
        </div>
        <form id="prospect-form" name="prospect-form">
          <div class="payment_content">
            <input id="cc_radio" class="input-radio hide" aria-expanded="true" type="radio" value="cc" checked="checked"
                   name="checkout[payment_gateway]"></input>
            <div class="form-wrapper">
              <input type="hidden" id="countrylist" name="countrylist" value="US"/>
              <input type="hidden" name="gateway" value="spreedly"/>

              <div class=" row">
                <div class="col-sm-6 first-name field-box">
                  <p>First Name:</p>

                  <input id="firstname" type="text" class="form-control" name="firstname" placeholder="First Name"
                         value="test" required>
                </div>
                <div class="col-sm-6 last-name field-box">
                  <p>Last Name:</p>

                  <input id="lastname" type="text" class="form-control" name="lastname" placeholder="Last Name"
                         value="test" required>
                </div>

                <div class="col-sm-6 phone field-box">
                  <p>Phone:</p>

                  <input id="phone" type="text" class="form-control" name="phone" placeholder="Phone" maxlength="15"
                         value="" required>
                </div>

                <div class="col-sm-6 email field-box">
                  <p>Email:</p>

                  <input id="email" type="email" class="form-control" name="email" placeholder="Email"
                         value="test@test.com" required>
                  <p id="suggestion"></p>
                </div>

                <div class="address field-box col-sm-6">
                  <p>House Number and Street:</p>

                  <input id="address" type="text" class="form-control" name="address" placeholder="House # and Street"
                         value="12 tasas test" required="">
                </div>

                <div class="address2 field-box col-sm-6">
                  <p>Apt, suite, etc (optional):</p>

                  <input id="address2" type="text" class="form-control" name="address2"
                         placeholder="Apt, suite, etc (optional)" value="test">
                </div>

                <div class="col-sm-6 city field-box">
                  <p>City:</p>

                  <input id="city" type="text" class="form-control" name="city" placeholder="City"
                         value="test" required="">
                </div>

                <div class="col-sm-6 state field-box">
                  <p>State:</p>

                  <select id="statelist" class="form-control" name="statelist" required>
                    <option value="" disabled="disabled" selected>Select Your State/Province</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <!-- <option value="AS">American Samoa</option> -->
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District of Columbia</option>
                    <option value="FL">Florida</option>
                    <!-- <option value="GU">Guam</option> -->
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <!-- <option value="MP">Northern Mariana Islands</option> -->
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <!-- <option value="PR">Puerto Rico</option> -->
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <!-- <option value="UM">United States Minor Outlying Islands</option> -->
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <!-- <option value="VI">Virgin Islands, U.S.</option> -->
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                  </select>
                </div>
                <div class="col-sm-6 zip field-box">
                  <p>Zip Code:</p>

                  <input id="zip" type="text" class="form-control" name="zip" placeholder="Zip Code"
                         value="35005	" required>
                </div>
              </div>

              <div class=" row">
                <div class="col-sm-6 ringsize field-box">
                  <p>Select your Ring Size:</p>
                  <select id="ring_size" class="form-control ring_size" name="ring_size" required="">
                    <option value="" disabled="disabled" selected>Select Your Ring Size</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                  </select>
                  <label style="display:none;margin-top: 10px;" id="ring_size-error" class="error"
                         for="ring_size">Please choose a ring size. Size 7 is common.</label>
                </div>
              </div>
              <!--
                              <hr />

              <div class="row">
              <div class="priorityshipping col-sm-12" style="margin-bottom:12px">
                <h4 style='margin-top:0'>Shipping Method</h4>
                      <div class="form-check">
                      <input class="form-check-input" id='ship_std' type="radio" name="shipRadios" value="ship_std" checked>
                      <label class="form-check-label" for="ship_std" style='display:inline'>
                      <span id='std-shipping-price'></span> Standard Shipping<br /><span style='display:none; font-weight:normal; color:red'>Order By Dec. 12th For Christmas Arrival</span>
                      </label>
                      </div>
                      <div class="form-check">
                      <input class="form-check-input" style='margin-top:20px' id='ship_prio' type="radio" name="shipRadios" value="ship_prio">
                      <label class="form-check-label" for="ship_prio" style='display:inline'>
                      <span id='prio-shipping-price'></span> Priority Shipping<br /><span style='display:none; font-weight:normal; color:red'>Order By Dec. 19th For Christmas Arrival</span>
                      </label>
                      </div>
                  </div>
              </div> -->
            </div>


          </div>
          <div class="row">
            <div class='col-sm-12'>
              <div class="checkbox optin form-group agree_terms_box" id="agree_terms_box">
                <label><input type="checkbox" name="agree_terms" id="agree_terms"
                              style="zoom:1.6;margin-left:-10px; margin-top:2px; margin-bottom:10px; z-index:1000;"
                              required>
                  <div style="padding-left:15px;">By checking this box I agree to the <a
                    href='https://bubblybelle.com/pages/terms-and-conditions' target='_blank'>terms and
                    conditions</a> and <a href='https://bubblybelle.com/pages/grand-opening-sweepstakes'
                                          target='_blank'>sweepstakes rules</a></div>
                </label>
              </div>


              <div class="submit-footer">
                <input class="btn green-btn ccbutton" type="submit" nextstep='checkout.html' id="payment_button"
                       value="Proceed to Payment">
                <div style="display:none;" class="ppbutton ppbutton_check" id="paypal-button-container">
                  <button
                    class="pp-cover" id="pay_with_paypal"><img class=btn-logo
                                                               src="https://offers.bubblybelle.com/shared/assets/image/pay.jpg">
                  </button>
                </div>
              </div>
            </div>
          </div>

        </form>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container footer-container">
    <div class="row">
      <div class="col-sm-12">
        <!-- <p style='font-size:1.1em; font-weight:bold; margin-top:40px;'>Need Help? 877-241-6269<br />
        Open Mon-Fri 9:00am - 5:00pm (EST)</p> -->
        <br/>
        <p>Copyright &copy; 2020 Bubbly Belle<sup>®</sup>. All rights reserved.</p>
        <p><a href="https://bubblybelle.com/pages/terms-and-conditions" target="_blank">Terms &amp; Conditions</a> | <a
          href="https://bubblybelle.com/pages/privacy-policy" target="_blank">Privacy Policy</a> | <a
          href="https://bubblybelle.com/pages/bubbly-bonanza-sweepstakes" target="_blank">Sweepstakes Rules</a></p>

        <p>DISCLAIMER: None of the health topics presented on Bubbly Belle have been evaluated or approved by the FDA.
          They should not replace personal judgment nor medical treatment when indicated, nor are they intended to
          diagnose, treat, cure, or prevent any disease. Always talk to your naturopathic physician about the use of
          these or any other complimentary modalities. *This statement has not been evaluated by the FDA. This product
          is not intended to diagnose, treat, cure, or prevent any disease.</p>
      </div>
    </div>
  </div>
</footer>
<div class="leaves-footer-bg"></div>

<div id="cvv_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Where can I find my security code?</h4>
      </div>
      <div class="modal-body">
        <p>CVV Security is a three digit number located on the back of any Visa or MasterCard on the right side of the
          signature strip</p>
        <img src="https://offers.bubblybelle.com/shared/assets/image/modal/cvv-details.jpg" alt="CVV Details">
      </div>
    </div>
  </div>
</div>

<div id="cvv_modal" class="modal fade modeless" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Where can I find my security code?</h4>
      </div>
      <div class="modal-body">
        <p>CVV Security is a three digit number located on the back of any Visa or MasterCard on the right side of the
          signature strip or on the front of an American Express card.</p>
        <img src="https://offers.bubblybelle.com/assets/image/modal/cvv-details.jpg" alt="CVV Details">
      </div>
    </div>
  </div>
</div>

<div id="processing_modal" class="modal fade modeless" role="dialog" aria-labelledby="mySmallModalLabel"
     aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Just one moment... we are processing your order</h4>
      </div>
      <div class="modal-body">
        <img src="https://offers.bubblybelle.com/shared/assets/image/modal/miracle-loading.gif" alt="Processing">
      </div>
    </div>
  </div>
</div>


<div id="processing_basic_modal" class="modal fade modeless" role="dialog" aria-labelledby="mySmallModalLabel"
     aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Just one moment...</h4>
      </div>
      <div class="modal-body">
        <img src="https://offers.bubblybelle.com/shared/assets/image/modal/miracle-loading.gif" alt="Processing">
      </div>
    </div>
  </div>
</div>

<div id="error_modal" class="modal fade modeless" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true"
     data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Oops! There was an error with your information</h4>
      </div>
      <div class="modal-body">
        <h4 id="error_message" style='text-align:center'></h4>
        <div id="error_body"></div>
        <br/><br/>
        <button type="button" class="btn btn-default" data-dismiss="modal" aria-label="Close"
                style="display: block; margin: 0 auto; width: 150px;">
          Ok
        </button>
      </div>
    </div>
  </div>
</div>


<div id="error_modal_addy" class="modal fade modeless" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
     aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Please double-check your address!</h4>
      </div>
      <div class="modal-body">
        <h4 id="addy_error_message" style='text-align:center; font-size:25px'></h4>
        <div id="addy_error_body"></div>
        <br/><br/>
        <button type="button" class="btn btn-default" data-dismiss="modal" aria-label="Close"
                style="display: block; margin: 0 auto; width: 150px;">
          Ok
        </button>
      </div>
    </div>
  </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
<script src="https://offers.bubblybelle.com/shared/assets/js/js.cookie-2.1.4.min.js"></script>
<script src="https://offers.bubblybelle.com/shared/assets/js/jquery.validate.min.js"></script>
<script src="https://offers.bubblybelle.com/shared/assets/js/additional-methods.min.js"></script>
<script src="https://offers.bubblybelle.com/shared/assets/js/iziToast.js"></script>

<script>
  // used for steps pages - do not remove
  var gStep = $('body').data('step');
</script>
<script type="text/javascript">

  if (Cookies.get('Order_countdown')) {
    var deadline = Cookies.get('Order_countdown');
  } else {
    var timeInMinutes = 15;
    var currentTime = Date.parse(new Date());
    var deadline = new Date(currentTime + timeInMinutes * 60 * 1000);
    Cookies.set('Order_countdown', deadline, {expires: .01});
  }

  function getTimeRemaining(endtime) {
    var t = Date.parse(endtime) - Date.parse(new Date());
    var seconds = Math.floor((t / 1000) % 60);
    var minutes = Math.floor((t / 1000 / 60) % 60);
    var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
    return {
      'total': t,
      'minutes': minutes,
      'seconds': seconds
    };
  }

  function initializeClock(id, endtime) {
    var clock = document.getElementById(id);
    var minutesSpan = clock.querySelector('.minutes');
    var secondsSpan = clock.querySelector('.seconds');

    function updateClock() {
      var t = getTimeRemaining(endtime);
      minutesSpan.innerHTML = t.minutes;
      secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);
      if (t.total <= 0) {
        clearInterval(timeinterval);
        clock.innerHTML = "Order reservation ended.";
      }
    }

    updateClock(); // run function once at first to avoid delay
    var timeinterval = setInterval(updateClock, 1000);
  }

  initializeClock('clockdiv', deadline);

</script>
<!-- needed to check min bomb count -->
<script src="https://offers.bubblybelle.com/shared/assets/js/steps.js?v12"></script>

<script src="https://offers.bubblybelle.com/shared/assets/js/jquery.disableAutoFill.min.js"></script>

<script>
  // redirect if no bomb selected on page 1
  if (!checkMinimumSelections())
    window.location.href = 'index.php';
</script>

<script>
  $("#cc_radio").prop("checked", true);

  var statelist = 'AL';
  var ring_size = '5';

  var bypassaddresscheck = false;

  if (statelist) $('#statelist').val(statelist);
  if (ring_size) $('#ring_size').val(ring_size);

  // new 10.5.19
  if (typeof fbq != 'undefined') {
    fbq('track', 'InitiateCheckout');
  }


  $("#prospect-form").validate({
    rules: {
      zip: {
        required: true,
        minlength: 5
      },
      phone: {
        required: true,
        minlength: 10
      },
      address: {
        required: true,
        minlength: 5
      },
      address2: {
        required: false
      },
      city: {
        required: true,
        minlength: 2
      },
      email: {
        required: true,
        email: true
      },
    },
    messages: {
      zip: "Please enter a valid zip",
      phone: "Please enter a valid phone number",
      email: "Please enter a valid email address",
      address: "Please enter a valid street address",
      city: "Please enter a valid city",
      ring_size: "Please choose a ring size. Size 7 is most common.",
      statelist: "Please select your state",
      agree_terms: "Please agree to our terms to continue"
    },
    errorPlacement: function (error, element) {
      if (element.attr("name") == "agree_terms") {
        error.insertAfter("#agree_terms_box");
      } else {
        error.insertAfter(element);
      }
    },
    submitHandler: function (form) {
      if ('cc' == $('input[name="checkout[payment_gateway]"]:checked').val()) {
        $('#processing_modal').modal('show');

        var data = {};

        /* get the 3 page selections here and send along with partial data */
        var selections = {};
        for (var x = 1; x <= 3; x++) {
          selections[x] = Cookies.get('page-' + x);
          if (selections[x]) selections[x] = JSON.parse(selections[x]);
        }
        setTimeout(() => {
          $('#processing_modal').modal('hide');
          // hilight the fields red.
          $('prospect-form input').css('color', '#ff0000');
          // change header "Please Verify Your Address"
          //$('#maintitle').html("Please Verify Your Address");
          // hide the timer
          $('#clockdiv').hide();

          // change button to #d0286c
          $('#payment_button').css('background-color', '#d0286c');

          // hide payment_header
          $('.payment_header').hide();

          // make label color red
          $('#prospect-form p').css('color', '#ff0000');
          window.location.href = 'checkout.html';
          return;
        }, 3000);

        data.formData = $('#prospect-form').serialize();
        data.selections = selections;

        if (bypassaddresscheck)
          data.address_check_bypass = bypassaddresscheck;
        $.post("/api/cart/addPartialAddressCheck", data, function (data2) {

          if (data2.status && data2.status == 'failmsg') {
            $('#processing_modal').modal('hide');

            $('#addy_error_message').html(data2.msg);
            $('#error_modal_addy').modal();

            // hilight the fields red.
            $('prospect-form input').css('color', '#ff0000');

            // change header "Please Verify Your Address"
            $('#maintitle').html("Please Verify Your Address");

            // hide the timer
            $('#clockdiv').hide();

            // turn off auto fill
            // $('#prospect-form').disableAutoFill();   // not sure this is working right

            // hide ring size
            // $('#ring_size').hide();

            // set a hidden input field with address_check_bypass = 1
            // $('#prospect-form').append('<input type="hidden" name="address_check_bypass" id="address_check_bypass" value="1" />');
            bypassaddresscheck = true;

            // change button to #d0286c
            $('#payment_button').css('background-color', '#d0286c');

            // hide payment_header
            $('.payment_header').hide();

            // make label color red
            $('#prospect-form p').css('color', '#ff0000');


            return;
          }

          setTimeout(function () {
            $('#processing_modal').modal('hide');

            // report initiate checkout to FB  - new 5.2.19


            // redirect to next step
            window.location.href = $('#payment_button').attr('nextstep');
          }, 1500);
        }, 'json');
        return false;
      }
    }
  });

  $('.ring_size').on('change', function () {
    $(".ring_size").val(this.value);
    if (/*$('#agree_terms').prop('checked') &&*/ null != $("#ring_size").val()) {
      // $('#paypal-button-container').removeClass('ppbutton_check');
      $("#ring_size-error").hide();
    } else {
      // $('#paypal-button-container').addClass('ppbutton_check');
      $("#ring_size-error").show();
    }
  });

  $('#agree_terms').prop('checked', false); // init the box

  // shipping calcs
  var tmpselect = {};
  var bbcnt = 0;
  for (var x = 1; x <= 3; x++) {
    tmpselect = Cookies.get('page-' + x);
    if (tmpselect) bbcnt += JSON.parse(tmpselect).length;
  }


  if (bbcnt < 3) {
    $('#std-shipping-price').text('$7.95');
    $('#prio-shipping-price').text('$16.90');
  } else {
    $('#std-shipping-price').text('$FREE');
    $('#prio-shipping-price').text('$8.95');
  }


</script>

<script>
  // coreg support - 12.27.19

  try {
    // ensure firstname and address field is empty - or we'll skip coreg data
    if (!$('#firstname').val() && !$('#address').val()) {

      // detect coreg cookie and attempt to insert
      var coreg = Cookies.get('coreg');
      if (coreg) {
        coreg = JSON.parse(atob(coreg));


        if (coreg.firstname) $('#firstname').val(coreg.firstname);
        if (coreg.lastname) $('#lastname').val(coreg.lastname);
        if (coreg.email) $('#email').val(coreg.email);
        if (coreg.phone) $('#phone').val(coreg.phone);
        if (coreg.address) $('#address').val(coreg.address);
        if (coreg.city) $('#city').val(coreg.city);
        if (coreg.state && coreg.state.length == 2) $('#statelist').val(coreg.state);
        if (coreg.zip) $('#zip').val(coreg.zip);
      }
    }

  } catch (e) {
  }
</script>
</body>
</html>
